<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><title>FISH_IF_colocalization/guide</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="alternate" type="application/rss+xml" title="Krishna Shrinivas" href="localhost:4000//feed.xml"><link href="/css/style.css" rel="stylesheet" media="screen"><link rel="stylesheet" href="/css/academicons.min.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto"> <script src="/js/jquery.min.js"></script> <script src="/js/transition.js"></script><script src="/js/collapse.js"></script></head><body><div id="header"> <nav class="navbar navbar-default navbar-static-top" role="navigation"><div class="container"><div class="navbar-header"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-element" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/">Krishna Shrinivas </a></div><div class="collapse navbar-collapse" id="navbar-collapse-element"><ul class="nav navbar-nav navbar-right"><li> <a href="/about/">about</a></li><li> <a href="/papers/">papers</a></li><li> <a href="/projects/">projects</a></li></ul></div></div> </nav></div><div class="container"><div class="row"><div class="col-md-12"><div class="bigtitle titlebox"><ol class="breadcrumb"><li><a class="off" href="/projects/FISH_IF_colocalization/">FISH_IF_colocalization</a></li><li>guide</li></ol></div><p><div class="head"> Programs that perform co-localization analysis between two image channels, and generate average intensity projections + radial functions.</div></div></div><div class="bigspacer"></div><div class="row"><div class="col-md-4"><div class="bigspacer"></div><div class="smallhead"> Source code</div><div class="pad-left note"><div class="smallspacer"></div> <i class="fa fa-cog fa-fw"></i> <a class="off" href="https://github.com/krishna-shrinivas/FISH_IF_colocalization">krishna-shrinivas/FISH_IF_colocalization</a></div><div class="bigspacer"></div><div class="smallhead"> Contributors</div><div class="pad-left note"><div class="smallspacer"></div><div> <a class="off" href="https://github.com/krishna-shrinivas"> <img class="pull-left avatar" src="https://avatars2.githubusercontent.com/u/1104929?v=4&s=50"><div class="handlebox" style="padding-left:5px"> krishna-shrinivas</div> </a></div></div><div class="bigspacer"></div><div class="smallhead"> Latest commits</div><div class="pad-left smallnote"><ul class="list-unstyled"><div class="smallspacer"></div><li> <i class="fa fa-check-square-o fa-fw"></i> <a class="off" href="https://github.com/krishna-shrinivas/FISH_IF_colocalization/commit/de2a3bb3b9738b716c6ce8f35cf302988bda3a78"> 11 Mar 2019 - <span class="text-gray">More readabiltiy updates - interfacing with redcarpet MD parser</span> </a></li><div class="smallspacer"></div><li> <i class="fa fa-check-square-o fa-fw"></i> <a class="off" href="https://github.com/krishna-shrinivas/FISH_IF_colocalization/commit/9532fee0850b94851cebe9a206a47597288247af"> 11 Mar 2019 - <span class="text-gray">Markdown updates for readability</span> </a></li><div class="smallspacer"></div><li> <i class="fa fa-check-square-o fa-fw"></i> <a class="off" href="https://github.com/krishna-shrinivas/FISH_IF_colocalization/commit/759744440a840312e679f6da43a94a97582ac953"> 11 Mar 2019 - <span class="text-gray">Fixed links to papers</span> </a></li><div class="smallspacer"></div><li> <i class="fa fa-check-square-o fa-fw"></i> <a class="off" href="https://github.com/krishna-shrinivas/FISH_IF_colocalization/commit/8899bbf9c03727f85b4de950df98dcc73bcee765"> 11 Mar 2019 - <span class="text-gray">fixed hyperlinks/references</span> </a></li><div class="smallspacer"></div><li> <i class="fa fa-check-square-o fa-fw"></i> <a class="off" href="https://github.com/krishna-shrinivas/FISH_IF_colocalization/commit/1409c9bca6bed7ca56d9584f5161c3f5f04fe1c8"> 11 Mar 2019 - <span class="text-gray">Added instructions re:DAPI channels and random nuclear position generation</span> </a></li></ul></div><div class="spacer"></div><div class="smallhead"> Pages</div><div class="pad-left smallnote"><ul class="list-unstyled"><div class="smallspacer"></div><li> <a class="off" href="/projects/FISH_IF_colocalization/guide.html"> <i class="fa fa-folder-open-o"></i> / guide </a></li><div class="smallspacer"></div><li> <a class="off" href="/projects/FISH_IF_colocalization/"> <i class="fa fa-folder-open-o"></i> / </a></li></ul></div><div class="spacer"></div></div><div class="col-md-8"><div class="post"><p><h2>How to organize data and run code</h2><h3>Organizing your image data</h3><p>The standard organization structure for the input image data is specified below, utilizing the example of (FISH_IF) nanog_brd4. Each biological/technical replicate data set can have any identifier, as long as the last two digits represent a unique number for e.g. E01 or Exp01 or Exp_01. These last two numbers are used as the unique identifiers for each image set. This is the unique number that will be used to look for csv file of manually curated FISH/random foci if that is provided as an input. The format of these manually curated files are given below. Further, all strings are character sensitive.</p><p>Within each replicate, the input_channel identifier for FISH/IF are used to identify the respective images.</p><p>A typical folder structure is listed below, where the manually curated FISH foci (under Foci_calls) and manually generated control locations (under Random_foci) are provided as input. In general, the program can generate both of the above types of data on it's own.</p><ul><li><p>nanog_brd4</p><ul><li>Images<ul><li> E01<ul><li>nanog_brd4_01......._405_DAPI.TIF</li><li> nanog_brd4_01......._488_GFP.TIF</li><li>nanog_brd4_01........_561_CY3.TIF</li></ul></li><li>E02<ul><li>nanog_brd4_02......._405_DAPI.TIF</li><li> nanog_brd4_02......._488_GFP.TIF</li><li>nanog_brd4_02........_561_CY3.TIF .....................</li></ul></li><li>E12<ul><li>nanog_brd4_12......._405_DAPI.TIF</li><li> nanog_brd4_12......._488_GFP.TIF</li><li>nanog_brd4_12........_561_CY3.TIF</li></ul></li></ul></li><li>Foci_calls<ul><li> nanog_brd4_01.csv .......</li><li>nanog_brd4_12.csv</li></ul></li><li>Random_foci<ul><li> nanog_brd4_01.randomPixels.txt ...........</li><li>nanog_brd4_12.randomPixels.txt</li></ul></li></ul></li></ul><h2>Running the code</h2><p>Simply run <em>call_3D_analysis_code.m</em> for the code to run. A set of minimum parameters need to be defined:</p><ul><li><p>directory_name --&gt; This should point to the 'Images' folder, for e.g. 'nanog_brd4/Images/'</p></li><li><p>output_dir_name --&gt; This is the folder under which external files will be stored. For example, if named 'test', the output data and images will be stored under 'nanog_brd4/test', and if a random foci have been called, they will be stored under 'nanog_brd4/test_random'</p></li><li><p>in_params.FISH_name ---&gt; This variable stores the name of the RNA FISH, to use it for titling plots</p></li><li><p>in_params.IF_name ---&gt; This variable stores the name of the IF protein, to use it for titling plots</p></li><li><p>in_params.FISH_channel ---&gt; This variable stores the string of wavelength of FISH channel, for example in the example system mentioned above, the FISH_channel = '561'. This is used to identify the relevant image files while running the analysis. Please ensure that this value is appropriately specified, otherwise, it will call foci in the IF or DAPI channels, which could cause the program to crash or hang.</p></li><li><p>in_params.FISH_channel ---&gt; This variable stores the string of wavelength of IF channel, for example in the example system mentioned above, the IF_channel = '488'. This is used to identify the relevant image files while running the analysis.</p></li></ul><p>Additional details and intricacies about the code will be updated often.</p><h2>Formatting manually curated foci</h2><p>The manually called foci are typically present under a subfolder called Foci_calls (as referenced above). Under this folder, csv files with pointers to unique image set ID (01, 02 ,... etc) is present. Examples for the set of brd4(IF) and nanog (FISH) are given above.</p><ul><li> For example if the FISH foci name has number 12, like prdm12, please make sure that you don't name the manually called or randomly called foci file with 12 in it because it will confuse with uniq folder id. Good roundabouts include prdm_1_2 or prdm_twelve. This can be easily avoided if add stringent constraints on where the unique identifier will appear, or make it more than a number,or a 'longer' number! This update is arriving shortly.</li></ul><p>Each CSV file should have the following columns:</p><ul><li> Volume,Surface,Intensity,Centre X,Centre Y,Centre Z,Centre int X,Centre int Y,Centre int Z</li></ul><p>Columns 4,5, &amp; 6 are read to as X_center, Y_center, and Z_center. Other columns can all be 0's, but must be present. This is because this standard file format is that outputted by Fiji/Image J.</p><h3>Parsing output data</h3><p>If the output folder defined is foo, two output folders foo and foo_random will be created under the parent folder where the Images subfolder exist. Further, if random_auto_call is set to 1, then a subfolder Random_foci_auto will also be created with a list of CSV files of randomly called nuclear foci.</p><p>Under foo/Combined_data/, the following files are created: * <strong>nanog_brd4_production_average_image</strong> (fig,svg) - Average 2D projection plot of FISH/IF colocalization around FISH centroid. (typically +/- 5 stacks)</p><ul><li><p><strong>nanog_brd4_production_IRF_image</strong> (fig,svg) - Average 3D IRF plot of FISH/IF colocalization</p></li><li><p><strong>nanog_brd4_foci_statistics.csv</strong> - File with statistics on individual foci - Centroid, Average FISH/IF signal close to centroid, and source image file (replicate ID)</p></li><li><p><strong>Total_data.mat</strong> - Raw matrices of Image and IRF data under:</p><ul><li>FISH_data/IF_data - Average 2D projection data of size (N*N*R), where N is the length scale (in pixels) assayed and R - number of replicates</li><li>FISH_IRF/IF_IRF - IRF data stored in a cell array (R*1), where each cell contains the dist function (bins of distance in um), and intensity arrays.</li><li>image_data_set - The file ID of the input data set.</li><li>input_params - The complete listing of all input parametrization values is found under this variable</li></ul></li></ul></div></div></div></div><div id="footer"><span style="display:none">foo</span></div></body></html>